{"id":"uanA","dependencies":[{"name":"/Users/linazhao/tf/models/body-pix/demos/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/Slice.js.map","includedInParent":true,"mtime":1613524214681},{"name":"/Users/linazhao/tf/models/body-pix/demos/node_modules/@tensorflow/tfjs-backend-webgl/src/kernels/Slice.ts","includedInParent":true,"mtime":1613524214681},{"name":"/Users/linazhao/tf/models/body-pix/demos/package.json","includedInParent":true,"mtime":1613671076017},{"name":"/Users/linazhao/tf/models/body-pix/demos/.babelrc","includedInParent":true,"mtime":1608229350283},{"name":"/Users/linazhao/tf/models/body-pix/demos/node_modules/@tensorflow/tfjs-backend-webgl/package.json","includedInParent":true,"mtime":1613524214681},{"name":"@tensorflow/tfjs-core","loc":{"line":17,"column":45},"parent":"/Users/linazhao/tf/models/body-pix/demos/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/Slice.js","resolved":"/Users/linazhao/tf/models/body-pix/demos/node_modules/@tensorflow/tfjs-core/dist/index.js"},{"name":"../kernel_utils/shared","loc":{"line":18,"column":29},"parent":"/Users/linazhao/tf/models/body-pix/demos/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/Slice.js","resolved":"/Users/linazhao/tf/models/body-pix/demos/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernel_utils/shared.js"},{"name":"../slice_gpu","loc":{"line":19,"column":29},"parent":"/Users/linazhao/tf/models/body-pix/demos/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/Slice.js","resolved":"/Users/linazhao/tf/models/body-pix/demos/node_modules/@tensorflow/tfjs-backend-webgl/dist/slice_gpu.js"},{"name":"../slice_packed_gpu","loc":{"line":20,"column":35},"parent":"/Users/linazhao/tf/models/body-pix/demos/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/Slice.js","resolved":"/Users/linazhao/tf/models/body-pix/demos/node_modules/@tensorflow/tfjs-backend-webgl/dist/slice_packed_gpu.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.slice=r,exports.sliceConfig=void 0;var e=require(\"@tensorflow/tfjs-core\"),t=require(\"../kernel_utils/shared\"),a=require(\"../slice_gpu\"),s=require(\"../slice_packed_gpu\");function i(t,a,s,i){const r=i.texData.get(t.dataId),o=i.makeTensorInfo(s,t.dtype),n=i.texData.get(o.dataId);Object.assign(n,r),n.refCount=1,n.shape=s,n.dtype=t.dtype;let l=e.slice_util.computeFlatOffset(a,e.util.computeStrides(t.shape));r.slice&&(l+=r.slice.flatOffset),n.slice={flatOffset:l,origDataId:r.slice&&r.slice.origDataId||t.dataId};const c=i.dataRefCount.get(n.slice.origDataId)||1;return i.dataRefCount.set(n.slice.origDataId,c+1),o}function r(r){const{inputs:o,backend:n,attrs:l}=r,{x:c}=o,{begin:d,size:u}=l,[p,f]=e.slice_util.parseSliceParams(c,d,u);if(e.slice_util.assertParamsValid(c,p,f),0===e.util.sizeFromShape(f))return n.makeTensorInfo(f,c.dtype,[]);if(n.shouldExecuteOnCPU([c])||\"string\"===c.dtype){const e=n.texData.get(c.dataId),a=(0,t.sliceImplCPU)(e.values,p,f,c.shape,c.dtype);return n.makeTensorInfo(f,c.dtype,a)}const{isPacked:g}=n.texData.get(c.dataId),m=e.slice_util.isSliceContinous(c.shape,p,f);if(g||!m){const t=(0,e.env)().getBool(\"WEBGL_PACK_ARRAY_OPERATIONS\")?new s.SlicePackedProgram(f):new a.SliceProgram(f),i=t.getCustomSetupFunc(p);return n.runWebGLProgram(t,[c],c.dtype,i)}return n.uploadToGPU(c.dataId),i(c,p,f,n)}const o={kernelName:e.Slice,backendName:\"webgl\",kernelFunc:r};exports.sliceConfig=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":0}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":13}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":20}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":35}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":43}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":56}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":57}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":64}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":68}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":76}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":82}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":84}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":92}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":109}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":111}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":115}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":117}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":125}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":150}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":152}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":160}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":186}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":188}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":196}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":212}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":214}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":222}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":245}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":1,"column":254}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":256}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":258}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":26,"column":36},"generated":{"line":1,"column":260}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":26,"column":52},"generated":{"line":1,"column":262}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":265}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":271}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":27,"column":19},"generated":{"line":1,"column":273}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":27,"column":27},"generated":{"line":1,"column":275}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":27,"column":35},"generated":{"line":1,"column":283}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":27,"column":39},"generated":{"line":1,"column":287}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":27,"column":41},"generated":{"line":1,"column":289}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":297}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":1,"column":299}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":28,"column":20},"generated":{"line":1,"column":301}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":28,"column":35},"generated":{"line":1,"column":316}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":28,"column":41},"generated":{"line":1,"column":318}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":28,"column":43},"generated":{"line":1,"column":320}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":327}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":1,"column":329}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":29,"column":29},"generated":{"line":1,"column":331}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":29,"column":37},"generated":{"line":1,"column":339}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":29,"column":41},"generated":{"line":1,"column":343}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":29,"column":43},"generated":{"line":1,"column":345}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":1,"column":353}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":360}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":1,"column":367}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":31,"column":28},"generated":{"line":1,"column":369}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":1,"column":372}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":1,"column":374}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":32,"column":24},"generated":{"line":1,"column":383}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":385}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":387}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":33,"column":21},"generated":{"line":1,"column":393}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":395}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":34,"column":13},"generated":{"line":1,"column":397}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":34,"column":21},"generated":{"line":1,"column":403}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":34,"column":23},"generated":{"line":1,"column":405}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":1,"column":411}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":1,"column":415}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":1,"column":417}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":36,"column":17},"generated":{"line":1,"column":419}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":36,"column":17},"generated":{"line":1,"column":430}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":36,"column":35},"generated":{"line":1,"column":448}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":36,"column":42},"generated":{"line":1,"column":450}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":36,"column":47},"generated":{"line":1,"column":452}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":36,"column":47},"generated":{"line":1,"column":457}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":36,"column":62},"generated":{"line":1,"column":472}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":36,"column":64},"generated":{"line":1,"column":474}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":1,"column":482}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":37,"column":15},"generated":{"line":1,"column":484}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":492}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":40,"column":18},"generated":{"line":1,"column":495}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":1,"column":497}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":40,"column":33},"generated":{"line":1,"column":503}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":515}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":42,"column":13},"generated":{"line":1,"column":517}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":42,"column":21},"generated":{"line":1,"column":523}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":524}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":535}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":1,"column":537}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":45,"column":16},"generated":{"line":1,"column":548}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":45,"column":25},"generated":{"line":1,"column":550}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":45,"column":34},"generated":{"line":1,"column":557}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":45,"column":43},"generated":{"line":1,"column":559}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":45,"column":49},"generated":{"line":1,"column":565}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":45,"column":63},"generated":{"line":1,"column":577}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":45,"column":65},"generated":{"line":1,"column":579}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":587}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":593}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":595}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":49,"column":27},"generated":{"line":1,"column":597}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":49,"column":40},"generated":{"line":1,"column":610}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":49,"column":44},"generated":{"line":1,"column":614}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":49,"column":55},"generated":{"line":1,"column":616}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":49,"column":61},"generated":{"line":1,"column":622}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":49,"column":76},"generated":{"line":1,"column":635}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":51,"column":9},"generated":{"line":1,"column":637}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":644}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":50,"column":10},"generated":{"line":1,"column":646}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":50,"column":23},"generated":{"line":1,"column":659}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":50,"column":27},"generated":{"line":1,"column":663}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":50,"column":38},"generated":{"line":1,"column":665}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":50,"column":44},"generated":{"line":1,"column":671}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":50,"column":56},"generated":{"line":1,"column":682}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":50,"column":67},"generated":{"line":1,"column":684}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":51,"column":9},"generated":{"line":1,"column":687}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":54,"column":6},"generated":{"line":1,"column":689}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":54,"column":16},"generated":{"line":1,"column":698}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":700}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":703}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":709}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":57,"column":9},"generated":{"line":1,"column":716}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":718}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":57,"column":17},"generated":{"line":1,"column":726}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":728}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":57,"column":26},"generated":{"line":1,"column":734}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":57,"column":35},"generated":{"line":1,"column":737}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":740}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":58,"column":9},"generated":{"line":1,"column":742}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":58,"column":14},"generated":{"line":1,"column":745}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":748}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":59,"column":9},"generated":{"line":1,"column":754}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":756}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":59,"column":16},"generated":{"line":1,"column":761}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":59,"column":24},"generated":{"line":1,"column":764}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":61,"column":9},"generated":{"line":1,"column":767}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":61,"column":17},"generated":{"line":1,"column":769}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":61,"column":26},"generated":{"line":1,"column":772}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":61,"column":37},"generated":{"line":1,"column":774}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":61,"column":37},"generated":{"line":1,"column":785}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":61,"column":54},"generated":{"line":1,"column":802}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":61,"column":57},"generated":{"line":1,"column":804}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":61,"column":64},"generated":{"line":1,"column":806}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":64,"column":6},"generated":{"line":1,"column":809}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":1,"column":812}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":1,"column":814}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":1,"column":825}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":62,"column":31},"generated":{"line":1,"column":843}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":62,"column":34},"generated":{"line":1,"column":845}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":62,"column":42},"generated":{"line":1,"column":847}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":64,"column":36},"generated":{"line":1,"column":850}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":64,"column":6},"generated":{"line":1,"column":854}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":1,"column":856}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":1,"column":861}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":64,"column":25},"generated":{"line":1,"column":875}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":65,"column":11},"generated":{"line":1,"column":878}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":65,"column":11},"generated":{"line":1,"column":885}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":65,"column":19},"generated":{"line":1,"column":887}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":65,"column":34},"generated":{"line":1,"column":902}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":65,"column":41},"generated":{"line":1,"column":904}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":65,"column":43},"generated":{"line":1,"column":906}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":65,"column":50},"generated":{"line":1,"column":912}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":74,"column":6},"generated":{"line":1,"column":916}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":74,"column":6},"generated":{"line":1,"column":919}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":74,"column":14},"generated":{"line":1,"column":921}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":74,"column":33},"generated":{"line":1,"column":940}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":74,"column":34},"generated":{"line":1,"column":941}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":74,"column":53},"generated":{"line":1,"column":946}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":74,"column":41},"generated":{"line":1,"column":957}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":74,"column":43},"generated":{"line":1,"column":959}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":74,"column":63},"generated":{"line":1,"column":965}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":75,"column":10},"generated":{"line":1,"column":966}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":75,"column":10},"generated":{"line":1,"column":972}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":75,"column":21},"generated":{"line":1,"column":974}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":75,"column":29},"generated":{"line":1,"column":976}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":75,"column":37},"generated":{"line":1,"column":984}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":75,"column":41},"generated":{"line":1,"column":988}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":75,"column":43},"generated":{"line":1,"column":990}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":76,"column":10},"generated":{"line":1,"column":998}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":76,"column":22},"generated":{"line":1,"column":1001}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":77,"column":8},"generated":{"line":1,"column":1003}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":77,"column":8},"generated":{"line":1,"column":1005}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":77,"column":8},"generated":{"line":1,"column":1019}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":77,"column":17},"generated":{"line":1,"column":1021}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":77,"column":39},"generated":{"line":1,"column":1028}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":77,"column":47},"generated":{"line":1,"column":1030}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":77,"column":54},"generated":{"line":1,"column":1032}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":77,"column":56},"generated":{"line":1,"column":1034}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":77,"column":63},"generated":{"line":1,"column":1040}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":77,"column":65},"generated":{"line":1,"column":1042}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":1,"column":1049}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":1,"column":1056}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":78,"column":19},"generated":{"line":1,"column":1058}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":78,"column":34},"generated":{"line":1,"column":1073}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":78,"column":41},"generated":{"line":1,"column":1075}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":78,"column":43},"generated":{"line":1,"column":1077}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":78,"column":50},"generated":{"line":1,"column":1083}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":81,"column":8},"generated":{"line":1,"column":1086}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":81,"column":8},"generated":{"line":1,"column":1092}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":1101}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":81,"column":21},"generated":{"line":1,"column":1104}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":81,"column":29},"generated":{"line":1,"column":1106}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":81,"column":37},"generated":{"line":1,"column":1114}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":81,"column":41},"generated":{"line":1,"column":1118}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":81,"column":43},"generated":{"line":1,"column":1120}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":82,"column":8},"generated":{"line":1,"column":1128}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":82,"column":22},"generated":{"line":1,"column":1130}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":82,"column":33},"generated":{"line":1,"column":1132}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":82,"column":33},"generated":{"line":1,"column":1143}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":82,"column":50},"generated":{"line":1,"column":1160}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":82,"column":52},"generated":{"line":1,"column":1162}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":82,"column":59},"generated":{"line":1,"column":1168}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":82,"column":67},"generated":{"line":1,"column":1170}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":1173}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":1176}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":83,"column":19},"generated":{"line":1,"column":1180}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":83,"column":32},"generated":{"line":1,"column":1182}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":84,"column":10},"generated":{"line":1,"column":1183}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":84,"column":10},"generated":{"line":1,"column":1189}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":84,"column":20},"generated":{"line":1,"column":1192}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":84,"column":26},"generated":{"line":1,"column":1194}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":84,"column":26},"generated":{"line":1,"column":1196}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":84,"column":26},"generated":{"line":1,"column":1203}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":84,"column":34},"generated":{"line":1,"column":1211}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":1242}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":85,"column":12},"generated":{"line":1,"column":1246}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":1248}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":85,"column":31},"generated":{"line":1,"column":1267}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":1270}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":86,"column":12},"generated":{"line":1,"column":1274}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":1276}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":86,"column":25},"generated":{"line":1,"column":1289}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":87,"column":10},"generated":{"line":1,"column":1292}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":87,"column":24},"generated":{"line":1,"column":1294}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":87,"column":32},"generated":{"line":1,"column":1296}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":87,"column":51},"generated":{"line":1,"column":1315}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":88,"column":11},"generated":{"line":1,"column":1318}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":88,"column":11},"generated":{"line":1,"column":1325}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":88,"column":19},"generated":{"line":1,"column":1327}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":88,"column":35},"generated":{"line":1,"column":1343}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":88,"column":44},"generated":{"line":1,"column":1345}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":88,"column":45},"generated":{"line":1,"column":1346}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":88,"column":49},"generated":{"line":1,"column":1349}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":88,"column":51},"generated":{"line":1,"column":1351}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":88,"column":58},"generated":{"line":1,"column":1357}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":91,"column":9},"generated":{"line":1,"column":1360}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":90,"column":2},"generated":{"line":1,"column":1367}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":90,"column":10},"generated":{"line":1,"column":1369}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":90,"column":22},"generated":{"line":1,"column":1381}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":90,"column":24},"generated":{"line":1,"column":1383}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":91,"column":9},"generated":{"line":1,"column":1391}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":91,"column":22},"generated":{"line":1,"column":1393}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":91,"column":25},"generated":{"line":1,"column":1395}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":91,"column":33},"generated":{"line":1,"column":1397}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":91,"column":40},"generated":{"line":1,"column":1399}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":1402}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":13},"generated":{"line":1,"column":1408}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":41},"generated":{"line":1,"column":1410}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":1411}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":95,"column":14},"generated":{"line":1,"column":1422}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":41},"generated":{"line":1,"column":1424}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":1,"column":1430}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":96,"column":15},"generated":{"line":1,"column":1442}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":1,"column":1450}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":97,"column":14},"generated":{"line":1,"column":1461}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":1464}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":1472}},{"source":"../../src/kernels/Slice.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":1484}}],"sources":{"../../src/kernels/Slice.ts":"/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {env, KernelConfig, KernelFunc, Slice, slice_util, SliceAttrs, SliceInputs, TensorInfo, TypedArray, util} from '@tensorflow/tfjs-core';\n\nimport {MathBackendWebGL} from '../backend_webgl';\nimport {sliceImplCPU} from '../kernel_utils/shared';\nimport {SliceProgram} from '../slice_gpu';\nimport {SlicePackedProgram} from '../slice_packed_gpu';\n\nfunction shallowSlice(\n    x: TensorInfo, begin: number[], size: number[], backend: MathBackendWebGL) {\n  const xTexData = backend.texData.get(x.dataId);\n  const t = backend.makeTensorInfo(size, x.dtype);\n  const newTexData = backend.texData.get(t.dataId);\n  // Copy texture data from the original tensor.\n  Object.assign(newTexData, xTexData);\n  newTexData.refCount = 1;\n  newTexData.shape = size;\n  newTexData.dtype = x.dtype;\n  let flatOffset =\n      slice_util.computeFlatOffset(begin, util.computeStrides(x.shape));\n  if (xTexData.slice) {\n    // We are slicing an already sliced tensor, so we have to accumulate\n    // the offset.\n    flatOffset += xTexData.slice.flatOffset;\n  }\n  newTexData.slice = {\n    flatOffset,\n    // Point to the original dataId, which is used to do ref counting.\n    origDataId: xTexData.slice && xTexData.slice.origDataId || x.dataId\n  };\n\n  // Increase the ref count for that data bucket.\n  const refCount = backend.dataRefCount.get(newTexData.slice.origDataId) || 1;\n  backend.dataRefCount.set(newTexData.slice.origDataId, refCount + 1);\n  return t;\n}\n\nexport function slice(\n    args: {inputs: SliceInputs, backend: MathBackendWebGL, attrs: SliceAttrs}):\n    TensorInfo {\n  const {inputs, backend, attrs} = args;\n  const {x} = inputs;\n  const {begin, size} = attrs;\n\n  const [$begin, $size] = slice_util.parseSliceParams(x, begin, size);\n  slice_util.assertParamsValid(x, $begin, $size);\n\n  if (util.sizeFromShape($size) === 0) {\n    return backend.makeTensorInfo($size, x.dtype, []);\n  }\n\n  // Run on cpu if dtype is string. For string, the backend represents it\n  // as Uint8Array[], where each Uint8Array is a character. Given that the\n  // computation is only on the outer array, uploading the whole data onto\n  // gpu is wasteful. Also, currently webgl doesn't have a design to\n  // upload and retrieve Uint8Array[] between cpu and gpu. Therefore, we\n  // just run the kernel on cpu if dtype is string.\n  if (backend.shouldExecuteOnCPU([x]) || x.dtype === 'string') {\n    const xTexData = backend.texData.get(x.dataId);\n    const outValues = sliceImplCPU(\n        xTexData.values as TypedArray, $begin, $size, x.shape, x.dtype);\n    return backend.makeTensorInfo($size, x.dtype, outValues);\n  }\n\n  const {isPacked} = backend.texData.get(x.dataId);\n  const isContinous = slice_util.isSliceContinous(x.shape, $begin, $size);\n  if (isPacked || !isContinous) {\n    const program = env().getBool('WEBGL_PACK_ARRAY_OPERATIONS') ?\n        new SlicePackedProgram($size) :\n        new SliceProgram($size);\n    const customSetup = program.getCustomSetupFunc($begin);\n    return backend.runWebGLProgram(program, [x], x.dtype, customSetup);\n  }\n  backend.uploadToGPU(x.dataId);\n  return shallowSlice(x, $begin, $size, backend);\n}\n\nexport const sliceConfig: KernelConfig = {\n  kernelName: Slice,\n  backendName: 'webgl',\n  kernelFunc: slice as {} as KernelFunc\n};\n"},"lineCount":null}},"error":null,"hash":"9047dfb51624284f407c3b1614d6b279","cacheData":{"env":{}}}